---
description: 
globs: 
alwaysApply: true
---
# 多区部署指南

根据 [README.md](mdc:README.md)，项目支持多区（multi-realm）部署。以下是关键的配置和命名规范。

### 核心原则

- **共享服务**: `ac-authserver` 服务是所有区共用的。
- **独立服务**: 每个区都需要一个独立的 `ac-db-import` 和 `ac-worldserver` 服务实例。
- **独立数据**: 每个区的 `acore_world` 和 `acore_characters` 数据库是独立的。

### 命名规范

- **服务名**: `s<大区ID>-<服务类型>` (例如, `s1-worldserver`)
- **数据库名**: `s<大区ID>_<数据库名>` (例如, `s1_acore_world`)
- **配置文件**: `s<大区ID>_worldserver.conf` (例如, `s1_worldserver.conf`)

### 配置步骤

1.  为每个新区创建独立的 `worldserver.conf` 配置文件，并修改其中的 `RealmID`。
2.  在 `docker-compose.yml` (假设存在) 中为每个新区定义新的 `worldserver` 和 `db-import` 服务。
3.  确保为新区的服务分配不同的外部端口。
4.  在 `acore_auth.realmlist` 表中为每个新区添加入口，指向正确的IP和端口。

```sql
INSERT INTO acore_auth.realmlist (id, name, address, port, flag, timezone) 
VALUES (2, \'大区2\', \'服务器IP\', 8086, 0, 1);
```
